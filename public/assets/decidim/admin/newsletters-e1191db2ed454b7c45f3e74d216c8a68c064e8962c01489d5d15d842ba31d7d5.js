"use strict";$(function(){var e,c,t,n,p,o,i=$(".form.newsletter_deliver");i.length>0&&(e=i.find("#send_newsletter_to_all_users"),c=i.find("#send_newsletter_to_followers"),t=i.find("#send_newsletter_to_participants"),n=i.find("#participatory_spaces_for_select"),p=c.find("input[type='checkbox']").prop("checked"),o=t.find("input[type='checkbox']").prop("checked"),e.on("change",function(e){var p=e.target.checked;p?(c.find("input[type='checkbox']").prop("checked",!p),t.find("input[type='checkbox']").prop("checked",!p),n.hide()):(c.find("input[type='checkbox']").prop("checked",!p),t.find("input[type='checkbox']").prop("checked",!p),n.show())}),c.on("change",function(c){var p=c.target.checked,o=t.find("input[type='checkbox']").prop("checked");p?(e.find("input[type='checkbox']").prop("checked",!p),n.show()):o||(e.find("input[type='checkbox']").prop("checked",!0),n.hide())}),t.on("change",function(t){var p=t.target.checked,o=c.find("input[type='checkbox']").prop("checked");p?(e.find("input[type='checkbox']").prop("checked",!p),n.show()):o||(e.find("input[type='checkbox']").prop("checked",!0),n.hide())}),p||o?n.show():n.hide(),$(".form .spaces-block-tag").each(function(e,c){var t=$(c).find(".chosen-select");t.change(function(){var e=t.find("option:selected").val();"all"===e?(t.find("option").not(":first").prop("selected",!0),t.find("option[value='all']").prop("selected",!1)):""===e&&t.find("option").not(":first").prop("selected",!1)})}),i.on("change",function(){var e=i.serializeJSON().newsletter,c=i.data("recipients-count-newsletter-path");$.get(c,{data:e},function(e){$("#recipients_count").text(e)})}))});